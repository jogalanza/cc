(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-17cf7bd0"],{"3e26":function(e,t,n){},"417c":function(e,t,n){"use strict";var i=n("3e26"),o=n.n(i);o.a},"5a24":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"defbacklog-entry-grid",staticStyle:{height:"100vh"}},[n("div",{staticStyle:{padding:"5px 0px"}},[n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[n("v-btn",e._g({staticClass:"add-row-btn",attrs:{small:""},on:{click:e.addNewRow}},i),[n("v-icon",{attrs:{small:"",color:"green"}},[e._v("mdi-plus")]),e._v(" New Row ")],1)]}}])},[n("span",[e._v("Add New Row Entry")])])],1),n("b-table",{staticClass:"fixed-rowheader",style:e.readOnly?"height:calc(100vh - 120px)":"height:calc(100vh - 145px)",attrs:{"show-empty":"",fixed:"","sticky-header":e.readOnly?"calc(100vh - 120px)":"calc(100vh - 145px)",small:"",selectable:"","select-mode":"multi",responsive:"",items:e.items,fields:e.fields,filter:e.filter,filterIncludedFields:e.filterOn,"thead-class":"head-class","tbody-tr-class":"row-class","tfoot-class":"foot-class"},on:{filtered:e.onFiltered},scopedSlots:e._u([{key:"table-busy",fn:function(){return[n("div",{staticClass:"text-center text-danger my-2"},[n("b-spinner",{staticClass:"align-middle"}),n("strong",[e._v("Loading...")])],1)]},proxy:!0},{key:"table-colgroup",fn:function(t){return e._l(t.fields,(function(t){return n("col",{key:t.key,style:e.colwidthCalc(t.key)})}))}},{key:"cell(actions)",fn:function(t){return[n("div",{staticClass:"row-header"},[n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(i){var o=i.on;return[n("v-btn",e._g({attrs:{icon:"",small:""},on:{click:function(n){return e.removeRow(t)}}},o),[n("v-icon",{attrs:{small:"",color:"red"}},[e._v("mdi-window-close")])],1)]}}],null,!0)},[n("span",[e._v("Remove")])])],1)]}},{key:"cell(siteid)",fn:function(t){return[n("v-select",{class:t.value?"":"required-field",attrs:{items:e.sites,label:"Choose a Site","item-text":"siteName","item-value":"siteid",solo:"","hide-details":"",dense:"",flat:""},on:{change:function(n){return e.siteChanged(t)}},model:{value:t.item.siteid,callback:function(n){e.$set(t.item,"siteid",n)},expression:"row.item.siteid"}})]}},{key:"cell(productid)",fn:function(t){return[n("v-select",{class:t.value?"":"required-field",attrs:{items:t.item.products,label:"Choose a Product","item-text":"name","item-value":"productid",solo:"","hide-details":"",dense:"",flat:""},model:{value:t.item.productid,callback:function(n){e.$set(t.item,"productid",n)},expression:"row.item.productid"}})]}},{key:"cell(year)",fn:function(t){return[n("v-select",{class:t.value?"":"required-field",attrs:{items:e.yearOpt,label:"Year","item-text":"siteName","item-value":"siteid",solo:"","hide-details":"",dense:"",flat:""},model:{value:t.item.year,callback:function(n){e.$set(t.item,"year",n)},expression:"row.item.year"}})]}},{key:"cell(month)",fn:function(t){return[n("v-select",{class:t.value?"":"required-field",attrs:{items:e.months,label:"Month","item-text":"name","item-value":"index",solo:"","hide-details":"",dense:"",flat:""},model:{value:t.item.month,callback:function(n){e.$set(t.item,"month",n)},expression:"row.item.month"}})]}},{key:"cell(defBacklog)",fn:function(t){return[n("v-text-field",{staticClass:"input-fields",class:t.value?"":"required-field",attrs:{type:"number",flat:"",solo:"","single-line":"",dense:"","hide-details":""},on:{change:e.defCountChanged},model:{value:t.item.defBacklog,callback:function(n){e.$set(t.item,"defBacklog",n)},expression:"row.item.defBacklog"}})]}},{key:"cell(poNo)",fn:function(t){return[n("v-text-field",{staticClass:"input-fields",attrs:{flat:"",solo:"","single-line":"",dense:"","hide-details":""},model:{value:t.item.poNo,callback:function(n){e.$set(t.item,"poNo",n)},expression:"row.item.poNo"}})]}},{key:"cell(partNo)",fn:function(t){return[n("v-text-field",{staticClass:"input-fields",attrs:{flat:"",solo:"","single-line":"",dense:"","hide-details":""},model:{value:t.item.partNo,callback:function(n){e.$set(t.item,"partNo",n)},expression:"row.item.partNo"}})]}},{key:"cell(comments)",fn:function(t){return[n("v-text-field",{staticClass:"input-fields",attrs:{flat:"",solo:"","single-line":"",dense:"","hide-details":""},model:{value:t.item.comments,callback:function(n){e.$set(t.item,"comments",n)},expression:"row.item.comments"}})]}},{key:"cell(reason)",fn:function(t){return[n("v-text-field",{staticClass:"input-fields",attrs:{flat:"",solo:"",dense:"","hide-details":""},model:{value:t.item.reason,callback:function(n){e.$set(t.item,"reason",n)},expression:"row.item.reason"}})]}},{key:"cell(customerName)",fn:function(t){return[n("v-text-field",{staticClass:"input-fields",attrs:{flat:"",solo:"","single-line":"",dense:"","hide-details":""},model:{value:t.item.customerName,callback:function(n){e.$set(t.item,"customerName",n)},expression:"row.item.customerName"}})]}},{key:"cell(partDescription)",fn:function(t){return[n("v-text-field",{staticClass:"input-fields",attrs:{flat:"",solo:"","single-line":"",dense:"","hide-details":""},model:{value:t.item.partDescription,callback:function(n){e.$set(t.item,"partDescription",n)},expression:"row.item.partDescription"}})]}},{key:"cell()",fn:function(t){return[n("span",[e._v(e._s(t.value))])]}},{key:"head(actions)",fn:function(e){return[n("span",{staticClass:"text-info"})]}},{key:"head(defBacklog)",fn:function(t){return[n("div",[e._v(e._s(t.label))])]}},{key:"foot(actions)",fn:function(t){return[n("div",{staticClass:"row-header"},[n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[n("v-btn",e._g({staticClass:"add-row-btn",attrs:{small:""},on:{click:e.addNewRow}},i),[n("v-icon",{attrs:{small:"",color:"green"}},[e._v("mdi-plus")]),e._v(" New Row ")],1)]}}],null,!0)},[n("span",[e._v("Add New Row Entry")])])],1)]}},{key:"foot()",fn:function(e){return[n("span")]}}])})],1)},o=[],s=(n("4de4"),n("a434"),n("5530")),l=n("e09c"),a=n("2f62"),r={name:"DefBacklogEntryGrid",mixins:[l["a"]],props:{filter:String,readOnly:{type:Boolean,default:!0},selectMode:{type:Boolean,default:!1}},components:{},watch:{selectMode:function(e,t){console.log(e,t)}},data:function(){return{defCount:null,yearOpt:[],monthOpt:[],filterOn:["site","businessLine","productLine","productFamily","poNo","partNo","comments","reason","customerName","partDescription"],items:[{id:1,col1:"Commercial",siteid:null,productid:null,year:null,month:null,businessLine:"Detection",productLine:"IR Sensing",productFamily:"Pyroelectric Sensors",site:"ESG",defBacklog:123,poNo:123,partNo:123,comments:"sample comment",reason:"No reason at all",customerName:"the customer",partDescription:"sample part description",products:[{productid:1,name:"Pyroelectric Sensors",sbu:"Commercial",biz:"Detection",line:"IR Sensing"},{productid:2,name:"Thermopile",sbu:"Commercial",biz:"Detection",line:"IR Sensing"}]},{id:1,col1:"Commercial",siteid:null,productid:null,year:null,month:null,businessLine:"Detection",productLine:"IR Sensing",productFamily:"Pyroelectric Sensors",site:"ESG",defBacklog:123,poNo:123,partNo:123,comments:"sample comment",reason:"No reason at all",customerName:"the customer",partDescription:"sample part description",products:[{productid:1,name:"Pyroelectric Sensors",sbu:"Commercial",biz:"Detection",line:"IR Sensing"},{productid:2,name:"Thermopile",sbu:"Commercial",biz:"Detection",line:"IR Sensing"}]}]}},methods:{newEntryObj:function(){var e={id:null,siteid:null,productid:null,year:null,month:null,col1:"Commercial",businessLine:"Detection",productLine:"IR Sensing",productFamily:"Pyroelectric Sensors",site:"ESG",defBacklog:null,poNo:null,partNo:null,comments:"",reason:"",customerName:"",partDescription:"",products:[]};return e},addNewRow:function(){this.items.push(this.newEntryObj())},removeRow:function(e){console.log(e),e.index>=0&&this.items.splice(e.index,1)},siteChanged:function(e){console.log(e),0==e.item.products.length&&(e.item.products.push("test prod1"),e.item.products.push("test prod2"))},defCountChanged:function(){this.defCount=this.calcItems("defBacklog")},onFiltered:function(e){this.filter?this.defCount=this.calcItemsPlus("defBacklog",e):this.defCount=this.calcItems("defBacklog")},colwidthCalc:function(e){return{width:"col1"===e?"100px":"comments"===e||"customerName"===e||"reason"===e||"partDescription"===e?"150px":"month"===e||"year"===e?"70px":"defBacklog"===e?"130px":"productid"===e?"160px":"siteid"===e?"120px":"actions"===e?"40px":"80px"}}},computed:Object(s["a"])({},Object(a["b"])({fields:"getBackLogEntryFields",sites:"getSites",months:"getMonths"})),updated:function(){console.log("backloggrid updated")},mounted:function(){console.log("backloggrid mounted"),this.defCount=this.calcItems("defBacklog");for(var e=new Date,t=e.getFullYear(),n=[],i=2017;i<t+2;i++)n.push(i);this.yearOpt=n}},c=r,u=(n("417c"),n("2877")),d=n("6544"),m=n.n(d),f=n("8336"),p=n("132d"),h=n("b974"),v=n("8654"),b=n("3a2f"),g=Object(u["a"])(c,i,o,!1,null,null,null);t["default"]=g.exports;m()(g,{VBtn:f["a"],VIcon:p["a"],VSelect:h["a"],VTextField:v["a"],VTooltip:b["a"]})},e09c:function(e,t,n){"use strict";n("4160"),n("a9e3"),n("159b");t["a"]={methods:{calcItems:function(e){var t=0;return e&&this.items&&this.items.forEach((function(n,i){n[e]&&Number(n[e])&&(t+=Number(n[e]))})),this.formatNumber(t)},calcItemsPlus:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=0;return e&&t&&t.forEach((function(t,n){t[e]&&Number(t[e])&&(i+=Number(t[e]))})),n?this.formatNumber(i):i},calcItemsArrayPlus:function(e,t,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=0;return e&&t&&t.forEach((function(t,i){t[e]&&n<t[e].length&&Number(t[e][n])&&(o+=Number(t[e][n]))})),i?this.formatNumber(o):o},sumRowItems:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=0;return e&&t&&e.forEach((function(e,n){t.item[e]&&Number(t.item[e])&&(i+=Number(t.item[e]))})),n?this.formatNumber(i):i},colwidthCalc:function(e){return console.log("mixin.colwidthCalc"),{width:"col1"===e?"280px":"actions"===e?"32px":"70px"}},numberValStyle:function(e){return e&&Number(e)&&Number(e)<0?"row-text row-text-negative":"row-text"},calcVariance:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=0;return i=this.calcReverse?(null===t?0:t)-(null===e?0:e):(null===e?0:e)-(null===t?0:t),n?this.formatNumber(i):i}}}}}]);