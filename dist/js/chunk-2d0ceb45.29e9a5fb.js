(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ceb45"],{"611e":function(e,t,l){"use strict";l.r(t);var o=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("v-dialog",{attrs:{persistent:"","max-width":"300"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[l("v-btn",{attrs:{icon:""},on:{click:function(t){return t.stopPropagation(),e.handleDialog(o)}}},[l("v-icon",[e._v("mdi-calendar-month")])],1)]}}]),model:{value:e.periodDialog,callback:function(t){e.periodDialog=t},expression:"periodDialog"}},[l("v-card",[l("v-card-title",{staticClass:"headline",staticStyle:{"margin-bottom":"12px"}},[e._v("Report Period Filter")]),l("v-card-text",{staticStyle:{"padding-bottom":"0px"}},[e.local_periodFilters.showPeriodSelect?l("v-select",{ref:"periodType",attrs:{items:e.period_type,"return-object":"",dense:"",label:"Period",outlined:""},model:{value:e.local_periodFilters.selectedPeriod,callback:function(t){e.$set(e.local_periodFilters,"selectedPeriod",t)},expression:"local_periodFilters.selectedPeriod"}}):e._e(),[1,4].indexOf(e.local_periodFilters.selectedPeriod.value)>-1?l("v-select",{ref:"selectMonth",attrs:{items:e.month_type,"return-object":"",dense:"",label:"Month",outlined:""},model:{value:e.local_periodFilters.selectedMonth,callback:function(t){e.$set(e.local_periodFilters,"selectedMonth",t)},expression:"local_periodFilters.selectedMonth"}}):e._e(),e.local_periodFilters.showWOW&&e.local_periodFilters.showWOW.length?l("v-row",[e.local_periodFilters.showWOW&&e.local_periodFilters.showWOW.length>=1?l("v-col",{staticStyle:{"padding-top":"0px","padding-bottom":"0px"}},[l("v-select",{attrs:{items:e.workWeeks,dense:"",label:e.getWeekLabel1,outlined:""},model:{value:e.local_periodFilters.selectedWW1,callback:function(t){e.$set(e.local_periodFilters,"selectedWW1",t)},expression:"local_periodFilters.selectedWW1"}})],1):e._e(),e.local_periodFilters.showWOW&&e.local_periodFilters.showWOW.length>=2?l("v-col",{staticStyle:{"padding-top":"0px","padding-bottom":"0px"}},[l("v-select",{attrs:{items:e.workWeeks,dense:"",label:"Work Week 2",outlined:""},model:{value:e.local_periodFilters.selectedWW2,callback:function(t){e.$set(e.local_periodFilters,"selectedWW2",t)},expression:"local_periodFilters.selectedWW2"}})],1):e._e()],1):e._e(),2===e.local_periodFilters.selectedPeriod.value?l("v-select",{ref:"selectQtr",attrs:{items:e.qtr_type,dense:"",label:"Quarter",outlined:""},model:{value:e.local_periodFilters.selectedQtr,callback:function(t){e.$set(e.local_periodFilters,"selectedQtr",t)},expression:"local_periodFilters.selectedQtr"}}):e._e(),l("v-select",{ref:"selectYear",attrs:{items:e.year_type,dense:"",label:"Year",outlined:""},model:{value:e.local_periodFilters.selectedYear,callback:function(t){e.$set(e.local_periodFilters,"selectedYear",t)},expression:"local_periodFilters.selectedYear"}})],1),l("v-card-actions",[l("v-spacer"),l("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){e.periodDialog=!1}}},[e._v("Cancel")]),l("v-btn",{attrs:{color:"green darken-1"},on:{click:e.checkPeriodSelection}},[e._v("Update")])],1)],1)],1)},i=[],r=(l("d81d"),l("d3b7"),l("ddb0"),l("2909")),s=l("5530"),c=l("2f62"),a={name:"PeriodSelectDialog",data:function(){return{periodDialog:!1,month_type:[{value:1,text:"January"},{value:2,text:"February"},{value:3,text:"March"},{value:4,text:"April"},{value:5,text:"May"},{value:6,text:"June"},{value:7,text:"July"},{value:8,text:"August"},{value:9,text:"September"},{value:10,text:"October"},{value:11,text:"November"},{value:12,text:"December"}],year_type:[2016,2017,2018,2019,2020],qtr_type:[1,2,3,4],workWeeks:[],weekLabel1:"Work Week",local_periodFilters:{selectedPeriod:0,selectedMonth:0,selectedYear:2019,selectedWW1:0,selectedWW2:0,selectedQtr:0}}},computed:Object(s["a"])({},Object(c["b"])({report_data:"getReportDataMenu",entry_data:"getDataEntryMenu",misc_data:"getMiscMenu",admin_menu:"getAdminMenu",period_type:"getPeriodTypes",autoDrill:"getAutoExpand"}),{getWeekLabel1:function(){return this.local_periodFilters.showWOW&&1===this.local_periodFilters.showWOW.length?"Work Week":"Work Week 1"},periodFilters:{get:function(){return this.$store.state.periodFilters},set:function(e){this.$store.commit("setPeriodFilters",e)}},selectedPeriod:{get:function(){return this.$store.state.periodFilters.selectedPeriod},set:function(e){this.$store.commit("setSelectedPeriodType",e)}},selectedMonth:{get:function(){return this.$store.state.periodFilters.selectedMonth},set:function(e){this.$store.commit("setSelectedMonth",e)}},selectedYear:{get:function(){return this.$store.state.periodFilters.selectedYear},set:function(e){this.$store.commit("setSelectedYear",e)}},selectedQtr:{get:function(){return this.$store.state.periodFilters.selectedQtr},set:function(e){this.$store.commit("setSelectedQtr",e)}},selectedWW1:{get:function(){return this.$store.state.periodFilters.selectedWW1},set:function(e){this.$store.commit("setSelectedWW1",e)}},selectedWW2:{get:function(){return this.$store.state.periodFilters.selectedWW2},set:function(e){this.$store.commit("setSelectedWW2",e)}}}),methods:{periodChanged:function(e){console.log(e,this.$refs),this.local_periodFilters.selectedPeriod=e,2===e.value&&this.$refs.selectQtr.$emit("change")},monthChanged:function(e){console.log(e),this.local_periodFilters.selectedMonth=e},qtrChanged:function(e){console.log("qtrChanged",e),this.local_periodFilters.selectedQtr=e},yearChanged:function(e){console.log(e),this.local_periodFilters.selectedYear=e},ww1Changed:function(e){console.log(e),this.local_periodFilters.selectedWW1=e},ww2Changed:function(e){console.log(e),this.local_periodFilters.selectedWW2=e},handleDialog:function(e){this.local_periodFilters=Object(s["a"])({},this.periodFilters),this.periodDialog=!0},checkPeriodSelection:function(){this.local_periodFilters.showWOW&&this.local_periodFilters.showWOW.length?this.checkMinWW():this.invokePeriodChanged()},invokePeriodChanged:function(){console.log("invokePeriodChanged"),this.periodFilters=this.local_periodFilters,this.$eventHub.$emit("period-changed"),this.periodDialog=!1},checkMinWW:function(){console.log("checkMinWW");var e=this;this.$http.post("report/snapshotminweek/".concat(this.local_periodFilters.selectedYear)).then((function(t){console.log("checkMinWW",t.data);var l=t.data.result;l>-1&&(e.local_periodFilters.selectedWW1<l&&(e.local_periodFilters.selectedWW1=l),e.local_periodFilters.selectedWW2<l&&(e.local_periodFilters.selectedWW2=l)),e.invokePeriodChanged()})).catch((function(e){console.warn("PeriodSelectDialog.checkMinWW",e)}))}},mounted:function(){this.workWeeks=Object(r["a"])(Array(53).keys()).map((function(e){return++e})).reverse()}},n=a,d=l("2877"),p=l("6544"),u=l.n(p),h=l("8336"),W=l("b0af"),_=l("99d9"),g=l("62ad"),v=l("169a"),F=l("132d"),f=l("0fd9"),m=l("b974"),k=l("2fa4"),b=Object(d["a"])(n,o,i,!1,null,null,null);t["default"]=b.exports;u()(b,{VBtn:h["a"],VCard:W["a"],VCardActions:_["a"],VCardText:_["b"],VCardTitle:_["c"],VCol:g["a"],VDialog:v["a"],VIcon:F["a"],VRow:f["a"],VSelect:m["a"],VSpacer:k["a"]})}}]);