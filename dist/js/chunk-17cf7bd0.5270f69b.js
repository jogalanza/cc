(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-17cf7bd0"],{"3e26":function(e,t,i){},"417c":function(e,t,i){"use strict";var n=i("3e26"),o=i.n(n);o.a},"5a24":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"defbacklog-entry-grid",staticStyle:{height:"100vh"}},[i("div",{staticStyle:{padding:"5px 0px"}},[i("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[i("v-btn",e._g({staticClass:"add-row-btn",attrs:{small:""},on:{click:e.addNewRow}},n),[i("v-icon",{attrs:{small:"",color:"green"}},[e._v("mdi-plus")]),e._v(" New Row ")],1)]}}])},[i("span",[e._v("Add New Row Entry")])])],1),i("b-table",{staticClass:"fixed-rowheader",style:e.readOnly?"height:calc(100vh - 120px)":"height:calc(100vh - 145px)",attrs:{"show-empty":"",fixed:"","sticky-header":e.readOnly?"calc(100vh - 120px)":"calc(100vh - 145px)",small:"",selectable:"","select-mode":"multi",responsive:"",items:e.items,fields:e.fields,filter:e.filter,filterIncludedFields:e.filterOn,"thead-class":"head-class","tbody-tr-class":"row-class","tfoot-class":"foot-class"},on:{filtered:e.onFiltered},scopedSlots:e._u([{key:"table-busy",fn:function(){return[i("div",{staticClass:"text-center text-danger my-2"},[i("b-spinner",{staticClass:"align-middle"}),i("strong",[e._v("Loading...")])],1)]},proxy:!0},{key:"table-colgroup",fn:function(t){return e._l(t.fields,(function(t){return i("col",{key:t.key,style:e.colwidthCalc(t.key)})}))}},{key:"cell(actions)",fn:function(t){return[i("div",{staticClass:"row-header"},[i("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(n){var o=n.on;return[i("v-btn",e._g({attrs:{icon:"",small:""},on:{click:function(i){return e.removeRow(t)}}},o),[i("v-icon",{attrs:{small:"",color:"red"}},[e._v("mdi-window-close")])],1)]}}],null,!0)},[i("span",[e._v("Remove")])])],1)]}},{key:"cell(siteid)",fn:function(t){return[i("v-select",{class:t.value?"":"required-field",attrs:{items:e.sites,label:"Choose a Site","item-text":"siteName","item-value":"siteid",solo:"","hide-details":"",dense:"",flat:""},on:{change:function(i){return e.siteChanged(t)}},model:{value:t.item.siteid,callback:function(i){e.$set(t.item,"siteid",i)},expression:"row.item.siteid"}})]}},{key:"cell(productid)",fn:function(t){return[i("v-select",{class:t.value?"":"required-field",attrs:{items:t.item.products,label:"Choose a Product","item-text":"name","item-value":"productid",solo:"","hide-details":"",dense:"",flat:""},model:{value:t.item.productid,callback:function(i){e.$set(t.item,"productid",i)},expression:"row.item.productid"}})]}},{key:"cell(year)",fn:function(t){return[i("v-select",{class:t.value?"":"required-field",attrs:{items:e.yearOpt,label:"Year","item-text":"siteName","item-value":"siteid",solo:"","hide-details":"",dense:"",flat:""},model:{value:t.item.year,callback:function(i){e.$set(t.item,"year",i)},expression:"row.item.year"}})]}},{key:"cell(month)",fn:function(t){return[i("v-select",{class:t.value?"":"required-field",attrs:{items:e.months,label:"Month","item-text":"name","item-value":"index",solo:"","hide-details":"",dense:"",flat:""},model:{value:t.item.month,callback:function(i){e.$set(t.item,"month",i)},expression:"row.item.month"}})]}},{key:"cell(defBacklog)",fn:function(t){return[i("v-text-field",{staticClass:"input-fields",class:t.value?"":"required-field",attrs:{type:"number",flat:"",solo:"","single-line":"",dense:"","hide-details":""},on:{change:e.defCountChanged},model:{value:t.item.defBacklog,callback:function(i){e.$set(t.item,"defBacklog",i)},expression:"row.item.defBacklog"}})]}},{key:"cell(poNo)",fn:function(t){return[i("v-text-field",{staticClass:"input-fields",attrs:{flat:"",solo:"","single-line":"",dense:"","hide-details":""},model:{value:t.item.poNo,callback:function(i){e.$set(t.item,"poNo",i)},expression:"row.item.poNo"}})]}},{key:"cell(partNo)",fn:function(t){return[i("v-text-field",{staticClass:"input-fields",attrs:{flat:"",solo:"","single-line":"",dense:"","hide-details":""},model:{value:t.item.partNo,callback:function(i){e.$set(t.item,"partNo",i)},expression:"row.item.partNo"}})]}},{key:"cell(comments)",fn:function(t){return[i("v-text-field",{staticClass:"input-fields",attrs:{flat:"",solo:"","single-line":"",dense:"","hide-details":""},model:{value:t.item.comments,callback:function(i){e.$set(t.item,"comments",i)},expression:"row.item.comments"}})]}},{key:"cell(reason)",fn:function(t){return[i("v-text-field",{staticClass:"input-fields",attrs:{flat:"",solo:"",dense:"","hide-details":""},model:{value:t.item.reason,callback:function(i){e.$set(t.item,"reason",i)},expression:"row.item.reason"}})]}},{key:"cell(customerName)",fn:function(t){return[i("v-text-field",{staticClass:"input-fields",attrs:{flat:"",solo:"","single-line":"",dense:"","hide-details":""},model:{value:t.item.customerName,callback:function(i){e.$set(t.item,"customerName",i)},expression:"row.item.customerName"}})]}},{key:"cell(partDescription)",fn:function(t){return[i("v-text-field",{staticClass:"input-fields",attrs:{flat:"",solo:"","single-line":"",dense:"","hide-details":""},model:{value:t.item.partDescription,callback:function(i){e.$set(t.item,"partDescription",i)},expression:"row.item.partDescription"}})]}},{key:"cell()",fn:function(t){return[i("span",[e._v(e._s(t.value))])]}},{key:"head(actions)",fn:function(e){return[i("span",{staticClass:"text-info"})]}},{key:"head(defBacklog)",fn:function(t){return[i("div",[e._v(e._s(t.label))])]}},{key:"foot(actions)",fn:function(t){return[i("div",{staticClass:"row-header"},[i("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[i("v-btn",e._g({staticClass:"add-row-btn",attrs:{small:""},on:{click:e.addNewRow}},n),[i("v-icon",{attrs:{small:"",color:"green"}},[e._v("mdi-plus")]),e._v(" New Row ")],1)]}}],null,!0)},[i("span",[e._v("Add New Row Entry")])])],1)]}},{key:"foot()",fn:function(e){return[i("span")]}}])})],1)},o=[],s=(i("4de4"),i("a434"),i("5530")),l=i("e09c"),a=i("2f62"),c={name:"DefBacklogEntryGrid",mixins:[l["a"]],props:{filter:String,readOnly:{type:Boolean,default:!0},selectMode:{type:Boolean,default:!1}},components:{},watch:{selectMode:function(e,t){console.log(e,t)}},data:function(){return{defCount:null,yearOpt:[],monthOpt:[],filterOn:["site","businessLine","productLine","productFamily","poNo","partNo","comments","reason","customerName","partDescription"],items:[{id:1,col1:"Commercial",siteid:null,productid:null,year:null,month:null,businessLine:"Detection",productLine:"IR Sensing",productFamily:"Pyroelectric Sensors",site:"ESG",defBacklog:123,poNo:123,partNo:123,comments:"sample comment",reason:"No reason at all",customerName:"the customer",partDescription:"sample part description",products:[{productid:1,name:"Pyroelectric Sensors",sbu:"Commercial",biz:"Detection",line:"IR Sensing"},{productid:2,name:"Thermopile",sbu:"Commercial",biz:"Detection",line:"IR Sensing"}]},{id:1,col1:"Commercial",siteid:null,productid:null,year:null,month:null,businessLine:"Detection",productLine:"IR Sensing",productFamily:"Pyroelectric Sensors",site:"ESG",defBacklog:123,poNo:123,partNo:123,comments:"sample comment",reason:"No reason at all",customerName:"the customer",partDescription:"sample part description",products:[{productid:1,name:"Pyroelectric Sensors",sbu:"Commercial",biz:"Detection",line:"IR Sensing"},{productid:2,name:"Thermopile",sbu:"Commercial",biz:"Detection",line:"IR Sensing"}]}]}},methods:{newEntryObj:function(){var e={id:null,siteid:null,productid:null,year:null,month:null,col1:"Commercial",businessLine:"Detection",productLine:"IR Sensing",productFamily:"Pyroelectric Sensors",site:"ESG",defBacklog:null,poNo:null,partNo:null,comments:"",reason:"",customerName:"",partDescription:"",products:[]};return e},addNewRow:function(){this.items.splice(0,0,this.newEntryObj())},removeRow:function(e){console.log(e),e.index>=0&&this.items.splice(e.index,1)},siteChanged:function(e){console.log(e),0==e.item.products.length&&(e.item.products.push("test prod1"),e.item.products.push("test prod2"))},defCountChanged:function(){this.defCount=this.calcItems("defBacklog")},onFiltered:function(e){this.filter?this.defCount=this.calcItemsPlus("defBacklog",e):this.defCount=this.calcItems("defBacklog")},colwidthCalc:function(e){return{width:"col1"===e?"100px":"comments"===e||"customerName"===e||"reason"===e||"partDescription"===e?"150px":"month"===e||"year"===e?"70px":"defBacklog"===e?"130px":"productid"===e?"160px":"siteid"===e?"120px":"actions"===e?"40px":"80px"}}},computed:Object(s["a"])({},Object(a["b"])({fields:"getBackLogEntryFields",sites:"getSites",months:"getMonths"})),updated:function(){console.log("backloggrid updated")},mounted:function(){console.log("backloggrid mounted"),this.defCount=this.calcItems("defBacklog");for(var e=new Date,t=e.getFullYear(),i=[],n=2017;n<t+2;n++)i.push(n);this.yearOpt=i}},r=c,d=(i("417c"),i("2877")),u=i("6544"),m=i.n(u),f=i("8336"),p=i("132d"),h=i("b974"),v=i("8654"),y=i("3a2f9"),b=Object(d["a"])(r,n,o,!1,null,null,null);t["default"]=b.exports;m()(b,{VBtn:f["a"],VIcon:p["a"],VSelect:h["a"],VTextField:v["a"],VTooltip:y["a"]})},e09c:function(e,t,i){"use strict";i("4160"),i("a9e3"),i("159b");t["a"]={methods:{calcItems:function(e){var t=0;return e&&this.items&&this.items.forEach((function(i,n){Number(i[e])&&(t+=Number(i[e]))})),this.formatNumber(t)},calcItemsPlus:function(e,t){var i=0;return e&&t&&t.forEach((function(t,n){Number(t[e])&&(i+=Number(t[e]))})),this.formatNumber(i)},colwidthCalc:function(e){return{width:"col1"===e?"280px":"actions"===e?"32px":"70px"}}}}}}]);