(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4f47112c"],{3034:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"demand-actuals-nest-grid"},[n("b-table",{ref:"thisTable",staticClass:"fixed-rowheader",attrs:{"show-empty":"",small:"",fixed:"","sticky-header":"calc(100vh - 165px)",responsive:"",items:t.items,fields:t.fields,"thead-class":t.showHeader?"head-class":"d-none","tbody-tr-class":"row-class","tfoot-class":"foot-class"},scopedSlots:t._u([{key:"table-busy",fn:function(){return[n("div",{staticClass:"text-center text-danger my-2"},[n("b-spinner",{staticClass:"align-middle"}),n("strong",[t._v("Loading...")])],1)]},proxy:!0},{key:"table-colgroup",fn:function(e){return t._l(e.fields,(function(e){return n("col",{key:e.key,style:t.colwidthCalc(e.key)})}))}},{key:"cell(col1)",fn:function(e){return[n("div",{staticClass:"row-header",on:{click:function(n){return t.toggleRow(e)}}},[n("v-icon",[t._v(t._s(e.detailsShowing?"mdi-chevron-down":"mdi-chevron-right"))]),t._v(" "+t._s(e.value)+" ")],1)]}},{key:"cell(actions)",fn:function(e){return[e.detailsShowing?n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(s){var i=s.on;return[n("v-btn",t._g({attrs:{small:"",icon:""},on:{click:function(n){return t.saveEntries(e.item)}}},i),[n("v-icon",[t._v("mdi-content-save")])],1)]}}],null,!0)},[n("span",[t._v(t._s("Save "+e.item.col1))])]):t._e()]}},{key:"cell()",fn:function(e){return[n("div",{staticClass:"row-header",staticStyle:{width:"100%",height:"40px"},on:{click:function(n){return t.toggleRow(e)}}})]}},{key:"head(col1)",fn:function(t){return[n("span",{staticClass:"text-info"})]}},{key:"row-details",fn:function(e){return[n("DemandActualsGrid",{ref:"bookforecast"+e.item.siteid,staticClass:"grid2",attrs:{showHeaders:t.showHeader,siteinfo:e.item}})]}},{key:"foot(actions)",fn:function(t){return[n("span",{staticClass:"text-danger"})]}},{key:"foot(col1)",fn:function(e){return[n("span",{staticClass:"footer-total"},[t._v("Total")])]}},{key:"foot()",fn:function(e){return[n("div",[t._v(t._s(t.calcItems(e.column)))])]}}])})],1)},i=[],o=(n("d3b7"),n("5530")),c=n("e09c"),r=n("4b1f"),a=n("2f62"),l={name:"DemandActualsNestGrid",mixins:[c["a"],r["a"]],components:{DemandActualsGrid:function(){return n.e("chunk-1e51dd9a").then(n.bind(null,"7562"))}},props:{items1:Array},data:function(){return{showHeader:!1,items:[{siteid:1,col1:"Asslar"},{siteid:2,userid:300,col1:"Batam"},{siteid:3,userid:300,col1:"Shenzhen"},{siteid:4,userid:300,col1:"Manila"},{siteid:5,userid:300,col1:"Singapore"},{siteid:6,userid:300,col1:"Montreal"},{siteid:7,userid:300,col1:"St. Asaph"}]}},methods:{saveEntries:function(t){try{if(t.siteid){var e="bookforecast".concat(t.siteid);console.log("saveEntries",t,e,this.$refs[e]),this.$refs[e]&&this.$refs[e].saveEntries()}}catch(n){console.error("BookingsForecastNestGrid.saveEntries",n)}},colwidthCalc:function(t){return{width:"col1"===t?"200px":"entryForm"===t?"680px":"actions"===t?"40px":"month"===t?"80px":"100px"}},toggleRow:function(t){t.toggleDetails()},checkToogleRow:function(t){console.log(t),t.item.childAPI&&t.toggleDetails()}},computed:Object(o["a"])({},Object(a["b"])({fields:"getDemandActualFields",autoDrill:"getAutoExpand"})),mounted:function(){console.log("mounted",this,this.$refs),this.showHeader=this.isStickySupported()}},u=l,d=(n("44ac"),n("2877")),f=n("6544"),h=n.n(f),m=n("8336"),p=n("132d"),v=n("3a2f"),b=Object(d["a"])(u,s,i,!1,null,"270ecf86",null);e["default"]=b.exports;h()(b,{VBtn:m["a"],VIcon:p["a"],VTooltip:v["a"]})},"44ac":function(t,e,n){"use strict";var s=n("54f8"),i=n.n(s);i.a},"4b1f":function(t,e,n){"use strict";n("4160"),n("159b");e["a"]={methods:{collapseExpand:function(){if(this.$refs.thisTable){var t=this.$refs.thisTable;t.$refs.itemRows.forEach((function(t,e){try{console.log(t);var n=t.$el.firstChild.firstElementChild;n.click()}catch(s){console.error("collapseExpand",s)}}))}}}}},"54f8":function(t,e,n){},e09c:function(t,e,n){"use strict";n("4160"),n("a9e3"),n("159b");e["a"]={methods:{calcItems:function(t){var e=0;return t&&this.items&&this.items.forEach((function(n,s){n[t]&&Number(n[t])&&(e+=Number(n[t]))})),this.formatNumber(e)},calcItemsPlus:function(t,e){var n=0;return t&&e&&e.forEach((function(e,s){e[t]&&Number(e[t])&&(n+=Number(e[t]))})),this.formatNumber(n)},sumRowItems:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=0;return t&&e&&t.forEach((function(t,n){e.item[t]&&Number(e.item[t])&&(s+=Number(e.item[t]))})),n?this.formatNumber(s):s},colwidthCalc:function(t){return console.log("mixin.colwidthCalc"),{width:"col1"===t?"280px":"actions"===t?"32px":"70px"}}}}}}]);